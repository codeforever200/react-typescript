(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,s){},30:function(e,t,s){"use strict";s.r(t);var a,c=s(1),l=s(7),n=s(3),i=(s(26),s(27),s(5)),d=s(15),r=s(13),o=s(2),j="GET_LISTS",b="GET_LIST_BY_ID",u="ADD_LIST",m="DELETE_LIST",O="UPDATE_LIST",h="SET_LISTID_TO_DELETE",x="SET_LISTID_TO_EDIT",p="SET_SELECTED_LIST",f="ADD_TASK",N="DELETE_TASK",v="SET_TASK_TO_DELETE",k="UNSET_TASK_TO_DELETE",y="UPDATE_TASK",T="SET_TASK_TO_EDIT",g="UNSET_TASK_TO_EDIT",E="SET_NOTIFICATION",S={lists:{},listIdToDelete:"",listToEdit:null,listById:null,selectedList:null,taskToDelete:null,taskToEdit:null},D=function(){return localStorage.getItem("task_list")?JSON.parse(localStorage.getItem("task_list")||"{}"):{}},L=function(e){localStorage.setItem("task_list",JSON.stringify(e))},C={message:"",type:"success"},_=Object(i.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,s=D();switch(t.type){case u:var a=Object(o.a)({},s);return a[t.payload.id]=t.payload,L(a),Object(o.a)(Object(o.a)({},e),{},{lists:a});case j:return Object(o.a)(Object(o.a)({},e),{},{lists:s});case b:var c=s[t.payload];return Object(o.a)(Object(o.a)({},e),{},{listById:c});case h:return Object(o.a)(Object(o.a)({},e),{},{listIdToDelete:t.payload});case x:var l=s[t.payload]||null;return Object(o.a)(Object(o.a)({},e),{},{listToEdit:l});case m:var n=Object(o.a)({},s),i=n[t.payload].id;return delete n[t.payload],L(n),Object(o.a)(Object(o.a)({},e),{},{lists:n,listIdToDelete:"",listById:null,selectedList:e.selectedList&&i===e.selectedList.id?null:e.selectedList});case O:var d=Object(o.a)({},s);return d[t.payload.id].name=t.payload.name,L(d),Object(o.a)(Object(o.a)({},e),{},{lists:d,listToEdit:null});case p:var E=D()[t.payload];return Object(o.a)(Object(o.a)({},e),{},{selectedList:E});case f:var C=Object(o.a)({},s);return C[t.payload.list.id].tasks.push(t.payload.task),L(C),Object(o.a)(Object(o.a)({},e),{},{lists:C,selectedList:C[t.payload.list.id]});case v:return Object(o.a)(Object(o.a)({},e),{},{taskToDelete:{task:t.payload.task,list:t.payload.list}});case k:return Object(o.a)(Object(o.a)({},e),{},{taskToDelete:null});case N:var _=Object(o.a)({},s),I=Object(r.a)(_[e.taskToDelete.list.id].tasks),A=I.find((function(t){return t.id===e.taskToDelete.task.id}));return I.splice(I.indexOf(A),1),_[e.taskToDelete.list.id].tasks=I,L(_),Object(o.a)(Object(o.a)({},e),{},{lists:_,selectedList:_[e.taskToDelete.list.id],taskToDelete:null});case T:return Object(o.a)(Object(o.a)({},e),{},{taskToEdit:{task:t.payload.task,list:t.payload.list}});case g:return Object(o.a)(Object(o.a)({},e),{},{taskToEdit:null});case y:var w=Object(o.a)({},s),K=Object(o.a)({},w[t.payload.list.id]),B=Object(r.a)(K.tasks),q=B.find((function(e){return e.id===t.payload.taskId})),z=Object(o.a)({},q);z.name=t.payload.taskName,z.completed=t.payload.taskState;var J=B.map((function(e){return e.id===z.id?z:e}));return K.tasks=J,w[K.id]=K,L(w),Object(o.a)(Object(o.a)({},e),{},{lists:w,selectedList:K,taskToEdit:null});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(o.a)(Object(o.a)({},e),{},{message:t.payload.msg,type:t.payload.type});default:return e}}}),I=Object(i.createStore)(_,Object(d.composeWithDevTools)()),A=(s(28),s(0)),w=function(e){var t=e.title,s=e.subtitle;return Object(A.jsx)("header",{className:"hero has-text-centered is-dark is-bold mb-5",children:Object(A.jsx)("div",{className:"hero-body",children:Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)("h1",{className:"title mb-3",children:t}),Object(A.jsx)("h2",{className:"subtitle mt-0",children:s})]})})})},K=s(4),B=function(e){return{type:h,payload:e}},q=function(e){return{type:x,payload:e}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{type:E,payload:{msg:e,type:t}}},J=function(){var e=Object(n.b)(),t=Object(c.useState)(""),s=Object(K.a)(t,2),a=s[0],l=s[1];return Object(A.jsxs)("div",{className:"card mb-5",children:[Object(A.jsx)("div",{className:"card-header",children:Object(A.jsx)("p",{className:"card-header-title",children:"Create New List"})}),Object(A.jsx)("div",{className:"card-content",children:Object(A.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===a)return alert("List name is required!");var s={id:"list-".concat((new Date).getTime()),name:a,tasks:[]};e({type:u,payload:s}),e(z('New list("'.concat(s.name,'") created'))),l("")},children:[Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{className:"label",children:"List Name"}),Object(A.jsx)("div",{className:"control",children:Object(A.jsx)("input",{className:"input",type:"text",placeholder:"List Name",name:"listname",value:a,onChange:function(e){l(e.currentTarget.value)}})})]}),Object(A.jsx)("div",{className:"control",children:Object(A.jsx)("button",{type:"submit",className:"button is-primary",children:"Create"})})]})})]})},U=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.list.lists}));Object(c.useEffect)((function(){e({type:j})}),[e]);return Object(A.jsxs)("div",{className:"panel is-primary",children:[Object(A.jsx)("p",{className:"panel-heading",children:" Your lists "}),Object(A.jsx)("div",{id:"lists-wrapper",children:0===Object.keys(t).length?Object(A.jsx)("p",{id:"no-lists",className:"py-4 has-text-centered",children:" No Lists"}):Object(A.jsx)("div",{id:"task-lists",children:Object.values(t).map((function(t){return Object(A.jsxs)("div",{className:"panel-block py-3",children:[Object(A.jsxs)("p",{onClick:function(){return s=t.id,void e(q(s));var s},children:[" ",t.name," "]}),Object(A.jsx)("span",{className:"panel-icon has-text-danger",onClick:function(){return s=t.id,void e(B(s));var s},children:Object(A.jsx)("i",{className:"fas fa-times-circle",children:" "})})]},t.id)}))})})]})},F=function(){return Object(A.jsxs)("div",{className:"column is-3",children:[Object(A.jsx)(J,{}),Object(A.jsx)(U,{})]})},G=function(e){var t=e.msg,s=Object(n.b)(),l=Object(n.c)((function(e){return e.notification.type}));Object(c.useEffect)((function(){""!==t&&(a&&clearTimeout(a),a=setTimeout((function(){s(z(""))}),3e3))}),[s,t]);return Object(A.jsxs)("div",{className:t?"".concat("danger"===l?"notification is-danger":"notification is-primary"):"notification is-hidden",children:[Object(A.jsx)("button",{className:"delete",onClick:function(){s(z("")),clearTimeout(a)}}),Object(A.jsx)("p",{children:t})]})},P=function(e){var t=e.listId,s=Object(n.b)(),a=Object(n.c)((function(e){return e.list.listById}));Object(c.useEffect)((function(){s({type:b,payload:t})}),[s,t]);var l=function(){s(B(""))};return Object(A.jsxs)("div",{className:"modal is-active",children:[Object(A.jsx)("div",{className:"modal-background close-modal",onClick:l}),Object(A.jsxs)("div",{className:"modal-card",children:[Object(A.jsx)("header",{className:"modal-card-head has-text-centered",children:Object(A.jsx)("p",{className:"modal-card-title",children:"Are you sure you want to delete this list ?"})}),Object(A.jsxs)("div",{className:"modal-card-body",children:[Object(A.jsx)("h2",{className:"is-size-5 has-text-centered",children:"All tasks related to this list will be deleted"}),Object(A.jsx)("div",{className:"content",children:0===(null===a||void 0===a?void 0:a.tasks.length)?Object(A.jsx)("p",{className:"has-text-centered pt-4 mb-0",children:"No tasks in this list!"}):Object(A.jsx)("ul",{children:null===a||void 0===a?void 0:a.tasks.map((function(e){return Object(A.jsx)("li",{children:e.name},e.id)}))})})]}),Object(A.jsxs)("footer",{className:"modal-card-foot",children:[Object(A.jsx)("button",{type:"submit",className:"button is-danger",onClick:function(){s({type:m,payload:t}),a&&s(z('List "'.concat(a.name,'" deleted!'),"danger"))},children:"Delete"}),Object(A.jsx)("button",{type:"button",className:"button close-modal",onClick:l,children:"Cancel"})]})]})]})},Y=function(e){var t=e.list,s=Object(n.b)(),a=Object(c.useState)(t.name),l=Object(K.a)(a,2),i=l[0],d=l[1],r=function(){s(q(""))};return Object(A.jsxs)("div",{className:"modal is-active",children:[Object(A.jsx)("div",{className:"modal-background close-modal",onClick:r}),Object(A.jsxs)("form",{className:"modal-card",onSubmit:function(e){return e.preventDefault(),""===i.trim()?alert("List name is required!"):i.trim()===t.name?alert("List name is the same as before!"):(s((a=t.id,c=i.trim(),{type:O,payload:{id:a,name:c}})),void s(z('List "'.concat(t.name,'" updated!'))));var a,c},children:[Object(A.jsxs)("header",{className:"modal-card-head",children:[Object(A.jsx)("p",{className:"modal-card-title",children:"Edit List"}),Object(A.jsx)("button",{type:"button",className:"delete close-modal","aria-label":"close",onClick:r})]}),Object(A.jsx)("div",{className:"modal-card-body",children:Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{className:"label",children:"List Name"}),Object(A.jsx)("div",{className:"control",children:Object(A.jsx)("input",{type:"text",className:"input",name:"listname",placeholder:"List Name",value:i,onChange:function(e){d(e.currentTarget.value)}})})]})}),Object(A.jsxs)("footer",{className:"modal-card-foot",children:[Object(A.jsx)("button",{type:"submit",className:"button is-success",children:"Save changes"}),Object(A.jsx)("button",{type:"button",className:"button close-modal",onClick:r,children:"Cancel"})]})]})]})},M=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.list.lists}));return Object(A.jsxs)("section",{children:[Object(A.jsx)("h2",{className:"is-size-4 has-text-centered mb-4",children:"Choose a list"}),Object(A.jsx)("div",{className:"field mb-5",children:Object(A.jsxs)("div",{className:"control has-icons-left",children:[Object(A.jsx)("div",{className:"select fullwidth",children:Object(A.jsxs)("select",{className:"fullwidth",onChange:function(t){var s;e((s=t.currentTarget.value,{type:p,payload:s}))},children:[Object(A.jsx)("option",{value:"",children:"Select List"}),Object.keys(t).length>0&&Object.values(t).map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(A.jsx)("div",{className:"icon is-small is-left",children:Object(A.jsx)("i",{className:"fas fa-list"})})]})})]})},R=function(e){var t=e.list,s=Object(n.b)(),a=Object(c.useState)(""),l=Object(K.a)(a,2),i=l[0],d=l[1];return Object(A.jsxs)("section",{className:"section",children:[Object(A.jsx)("h2",{className:"is-size-4 has-text-centered",children:"Add new task to selected field"}),Object(A.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),""===i.trim())return alert("Task name is required!");var a={name:i,id:"task-".concat((new Date).getTime()),completed:!1};s(function(e,t){return{type:f,payload:{task:e,list:t}}}(a,t)),s(z('New task created("'.concat(a.name,'")!'))),d("")},children:Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{className:"label",children:"Task Name"}),Object(A.jsx)("div",{className:"control",children:Object(A.jsx)("input",{type:"text",className:"input",placeholder:"Add Task",value:i,onChange:function(e){d(e.currentTarget.value)}})}),Object(A.jsx)("div",{className:"control mt-4",children:Object(A.jsx)("input",{type:"submit",value:"Add New Task",className:"button is-primary"})})]})})]})},W=function(e){var t=e.tasks,s=Object(n.b)(),a=Object(n.c)((function(e){return e.list.selectedList})),c=function(e){s(function(e,t){return{type:v,payload:{task:e,list:t}}}(e,a))},l=function(e){s(function(e,t){return{type:T,payload:{task:e,list:t}}}(e,a))},i=Object(A.jsxs)("table",{id:"tasks-table",className:"table is-fullwidth is-striped",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Task"}),Object(A.jsx)("th",{className:"has-text-centered",children:"Edit"}),Object(A.jsx)("th",{className:"has-text-centered",children:"Delete"})]})}),Object(A.jsx)("tbody",{children:t.map((function(e){return Object(A.jsxs)("tr",{className:e.completed?"completed":"",children:[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{className:"has-text-centered",children:Object(A.jsx)("button",{className:"button is-primary is-small",onClick:function(){return l(e)},children:Object(A.jsx)("span",{className:"icon",children:Object(A.jsx)("i",{className:"fas fa-edit"})})})}),Object(A.jsx)("td",{className:"has-text-centered",children:Object(A.jsx)("button",{className:"button is-danger is-small",onClick:function(){return c(e)},children:Object(A.jsx)("span",{className:"icon",children:Object(A.jsx)("i",{className:"fas fa-times"})})})})]},e.id)}))})]});return Object(A.jsxs)("section",{className:"section",children:[Object(A.jsx)("h2",{className:"is-size-4 has-text-centered",children:"List of tasks in selected list"}),0===t.length?Object(A.jsx)("p",{id:"no-tasks",className:"py-4 has-text-centered",children:"No Tasks"}):i]})},H=function(){var e=Object(n.c)((function(e){return e.list.selectedList}));return Object(A.jsx)("div",{className:"column is-9",children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsx)(M,{}),e&&Object(A.jsxs)(c.Fragment,{children:[Object(A.jsx)(R,{list:e}),Object(A.jsx)("hr",{}),Object(A.jsx)(W,{tasks:e.tasks})]})]})})},Q=function(e){var t=e.taskToEdit,s=t.task,a=t.list,l=Object(n.b)(),i=Object(c.useState)(s.name),d=Object(K.a)(i,2),r=d[0],o=d[1],j=Object(c.useState)(s.completed),b=Object(K.a)(j,2),u=b[0],m=b[1],O=function(){l({type:g})};return Object(A.jsxs)("div",{className:"modal is-active",children:[Object(A.jsx)("div",{className:"modal-background close-modal",onClick:O}),Object(A.jsxs)("form",{className:"modal-card",onSubmit:function(e){return e.preventDefault(),""===r?alert("Task name is required!"):r===s.name&&u===s.completed?alert("Task name and state are same as before!"):(l(function(e,t,s,a){return{type:y,payload:{taskId:e,taskName:t,taskState:s,list:a}}}(s.id,r,u,a)),void l(z('Task "'.concat(s.name,'" updated!'))))},children:[Object(A.jsxs)("header",{className:"modal-card-head",children:[Object(A.jsx)("p",{className:"modal-card-title",children:"Edit Task"}),Object(A.jsx)("button",{type:"button",className:"delete modal-close","aria-label":"close",onClick:O})]}),Object(A.jsxs)("div",{className:"modal-card-body",children:[Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{className:"label",children:"Task Name"}),Object(A.jsx)("div",{className:"control",children:Object(A.jsx)("input",{type:"text",className:"input",name:"taskname",placeholder:"Task Name",value:r,onChange:function(e){o(e.currentTarget.value)}})})]}),Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{className:"label",children:"Complete task"}),Object(A.jsxs)("label",{className:"checkbox",children:[Object(A.jsx)("input",{type:"checkbox",name:"taskstate",checked:u,onChange:function(e){m(e.currentTarget.checked)}})," ","Complete"]})]})]}),Object(A.jsxs)("footer",{className:"modal-card-foot",children:[Object(A.jsx)("button",{type:"submit",className:"button is-success",children:"Save changes"}),Object(A.jsx)("button",{type:"button",className:"button close-modal",onClick:O,children:"Cancel"})]})]})]})},V=function(e){var t=e.taskToDelete,s=t.task,a=t.list,c=Object(n.b)(),l=function(){c({type:k})};return Object(A.jsxs)("div",{className:"modal is-active",children:[Object(A.jsx)("div",{className:"modal-background close-modal",onClick:l}),Object(A.jsxs)("div",{className:"modal-card",children:[Object(A.jsx)("header",{className:"modal-card-head has-text-centered",children:Object(A.jsx)("p",{className:"modal-card-title",children:"Are you sure you want to delete this task ?"})}),Object(A.jsxs)("footer",{className:"modal-card-foot",children:[Object(A.jsx)("button",{type:"submit",className:"button is-danger",onClick:function(){c(function(e,t){return{type:N,payload:{task:e,list:t}}}(s,a)),c(z('Task "'.concat(s.name,'" deleted!'),"danger"))},children:"Delete"}),Object(A.jsx)("button",{type:"button",className:"button close-modal",onClick:l,children:"Cancel"})]})]})]})},X=function(){var e=Object(n.c)((function(e){return e.notification.message})),t=Object(n.c)((function(e){return e.list.listIdToDelete})),s=Object(n.c)((function(e){return e.list.listToEdit})),a=Object(n.c)((function(e){return e.list.taskToEdit})),c=Object(n.c)((function(e){return e.list.taskToDelete}));return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(w,{title:"Todo List App",subtitle:"Create some lists and add some tasks to each list"}),Object(A.jsx)("div",{className:"container px-5",children:Object(A.jsxs)("div",{className:"columns",children:[Object(A.jsx)(F,{}),Object(A.jsx)(H,{})]})}),Object(A.jsx)(G,{msg:e}),t&&Object(A.jsx)(P,{listId:t}),s&&Object(A.jsx)(Y,{list:s}),a&&Object(A.jsx)(Q,{taskToEdit:a}),c&&Object(A.jsx)(V,{taskToDelete:c})]})};l.render(Object(A.jsx)(c.StrictMode,{children:Object(A.jsx)(n.a,{store:I,children:Object(A.jsx)(X,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d7b3d98b.chunk.js.map